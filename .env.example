# ============================================
# SELF PROTEÇÃO VEICULAR - CONFIGURAÇÕES v4.0
# ============================================
# Copie este arquivo para .env e configure os valores

# Configurações do Servidor
PORT=3001
HOST=0.0.0.0
NODE_ENV=production

# Diretórios
SESSIONS_DIR=./sessions # No Railway use /mnt/data/sessions
DATA_DIR=./data
UPLOAD_DIR=./uploads

# Banco de Dados SQLite
DATABASE_PATH=./data/self.db

# ============================================
# SEGURANÇA (OBRIGATÓRIO EM PRODUÇÃO)
# ============================================

# Chave secreta para tokens JWT (mínimo 32 caracteres)
# Gere uma chave segura: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=sua-chave-secreta-super-segura-aqui-min-32-chars

# Chave para criptografia de mensagens (32 caracteres)
ENCRYPTION_KEY=chave-de-criptografia-32-caracteres

# ============================================
# WHATSAPP
# ============================================

# ID da sessão WhatsApp (não altere se não souber o que está fazendo)
SESSION_ID=self_whatsapp_session

# Timeout do QR Code em milissegundos (padrão: 60 segundos)
QR_TIMEOUT=60000

# Tentativas máximas de reconexão
MAX_RECONNECT_ATTEMPTS=5

# Delay entre tentativas de reconexão (ms)
RECONNECT_DELAY=3000

# ============================================
# FILA DE MENSAGENS
# ============================================

# Delay entre mensagens em massa (ms) - evita bloqueios
BULK_MESSAGE_DELAY=3000

# Máximo de mensagens por minuto
MAX_MESSAGES_PER_MINUTE=30

# ============================================
# WEBHOOKS
# ============================================

# Chave secreta para validar webhooks de entrada
WEBHOOK_SECRET=webhook-secret-key

# URL padrão para webhooks de saída (opcional)
WEBHOOK_URL=

# ============================================
# RATE LIMITING
# ============================================

# Janela de tempo para rate limit (ms)
RATE_LIMIT_WINDOW_MS=60000

# Máximo de requisições por janela
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# UPLOAD DE ARQUIVOS
# ============================================

# Tamanho máximo de arquivo
MAX_FILE_SIZE=50mb

# ============================================
# FUNCIONALIDADES
# ============================================

# Habilitar construtor de fluxos
FLOW_BUILDER_ENABLED=true

# URL do Frontend (para CORS em produção)
FRONTEND_URL=https://seu-app.railway.app

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================

# Origens permitidas (separadas por vírgula)
# Exemplo: http://localhost:3000,https://app.exemplo.com
# Use * para permitir todas (NÃO RECOMENDADO EM PRODUÇÃO)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
